<!DOCTYPE html>
<html>
<head>
  <title>Sum Calculator</title>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
   <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</head>
<body>
  <h1>Sum Calculator</h1>
  <table class="output" id =tabled></table>
  
  <label for="num1">Number 1:</label>
  <input type="number" id="num1" name="num1"><br>
  
  <label for="num2">Number 2:</label>
  <input type="number" id="num2" name="num2"><br>
  
  <button onclick="calculateSum()">Calculate Sum</button>

  <script>
  var num1 ="1223232"
  var num2 = "123";
  var mystatus = 0;
    function calculateSum() {
    
      // Get the values from the input fields
      num1 = document.getElementById("num1").value;
      num2 = document.getElementById("num2").value;

      // Calculate the sum
      var sum = num1 + num2;
      if (num2.length === 10 && num1.length === 11) {
  // Code to be executed if num2 has a length of 10 and num1 has a length of 11
  console.log("num2 length is 10 and num1 length is 11");
  findinIt();


let timerInterval
Swal.fire({
  title: 'Searching'+num2,
  html: 'I will close in <b></b> milliseconds.',
  timer: 5000,
  timerProgressBar: true,
  didOpen: () => {
    Swal.showLoading()
    const b = Swal.getHtmlContainer().querySelector('b')
    timerInterval = setInterval(() => {
      b.textContent = Swal.getTimerLeft()
    }, 100)
  },
  willClose: () => {
    clearInterval(timerInterval)
  }
}).then((result) => {
  /* Read more about handling dismissals below */
  if (result.dismiss === Swal.DismissReason.timer) {
    console.log('I was closed by the timer')
  }
})
     
    }else {
    
      Swal.fire({
        icon: "error",
        title: "Oops...",
        text: "Something went wrong!",
        footer: "<a href='#'>Need help?</a>"
      });
    }  
    } 
    
    function findinIt() {


  document.getElementById('tabled').style.display = 'none';
  const base = 'https://docs.google.com/spreadsheets/d/1z_xnixrb5EjCg9AAVVHzIHDb0xJdDtV7tf2wrHljSAM/gviz/tq?';

  const output = document.querySelector('.output');
  const query = encodeURIComponent('Select B');
  const url = base + '&tq=' + query;
  fetch(url)
    .then(res => res.text())
    .then(rep => {
      const data = JSON.parse(rep.substr(47).slice(0, -2));
      const row = document.createElement('tr');
      output.append(row);
      data.table.cols.forEach((heading) => {
        const cell = document.createElement('td');
        cell.textContent = heading.label;
        row.append(cell);
      })
      data.table.rows.forEach((main) => {
        const container = document.createElement('tr');
        output.append(container);
        main.c.forEach((ele) => {
          const cell = document.createElement('td');
          cell.textContent = ele.v;

          let text = cell.textContent;
          let result = text.includes(num1)&&text.includes(num2);

          if (result == true) {
           
            alert("alert pin is ");
            mystatus= 1;
            
          }
           let result2 = text.includes(num1)&&!text.includes(num2);

          if (result2 == true) {
           
            alert("only one found ");
            mystatus= 2;
            
          }
          
          
        });
      });
    }); 
    
    setTimeout(function() {
      Swal.fire({
        title: "Delayed Popup",
        text: "This popup appeared after 5 seconds.",
        icon: "success"
      });
    }, 5000);
   
}
    
  </script>
</body>
</html>
